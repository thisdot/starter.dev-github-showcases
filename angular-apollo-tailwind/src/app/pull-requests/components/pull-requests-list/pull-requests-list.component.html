<div *ngFor="let pullRequest of pullRequests">
  <div class="pull-request" data-testid="pr">
    <div class="pull-requests-list-container">
      <div class="flex">
        <ng-container *ngIf="pullRequest.closed; else open">
          <ng-icon
            name="heroCheckCircle"
            size="1.25rem"
            class="stateIcon purple"
            aria-hidden="true"
          ></ng-icon>
        </ng-container>
        <ng-template #open>
          <ng-icon
            name="heroMinusCircle"
            size="1.25rem"
            class="stateIcon green"
            aria-hidden="true"
          ></ng-icon>
        </ng-template>
        <div>
          <div class="content">
            <span class="title" data-testid="pull request title">{{
              pullRequest.title
            }}</span>
            <span class="inline" *ngFor="let label of pullRequest.labels">
              <span
                data-testid="pull request label name"
                [style.background-color]="colorMap(label.color)"
                class="label"
              >
                {{ label.name }}
              </span>
            </span>
          </div>
          <div class="meta" data-testid="pull request number">
            #{{ pullRequest.number }}
            <span
              data-testid="pull request created at"
              *ngIf="pullRequest.closed === false"
            >
              opened
              {{ pullRequest.createdAt | formatDistance : baseDate }}
              ago
            </span>
            by
            <span class="link" data-testid="pull request created by">{{
              pullRequest.login
            }}</span>
            <span
              data-testid="pull request closed at"
              *ngIf="pullRequest.closedAt"
            >
              was closed
              {{ pullRequest.closedAt | formatDistance : baseDate }}
              ago
            </span>
          </div>
        </div>
      </div>
      <div class="mt-1 commentsIcon">
        <ng-icon
          name="heroChatBubbleLeftEllipsis"
          size="1.25rem"
          strokeWidth="2"
          class="commentsIcon"
          aria-hidden="true"
        ></ng-icon>
        <span data-testid="pull request comment count">
          {{ pullRequest.commentCount }}
        </span>
      </div>
    </div>
  </div>
</div>
