<ng-container *ngIf="repoDetails$ | async as details">
  <app-repo-header
    [owner]="details.owner"
    [name]="details.name"
    [isPrivate]="details.isPrivate"
    [watchers]="details.watchers"
    [stargazers]="details.stargazers"
    [forks]="details.forks"
    [basePath]="details.basePath"
  ></app-repo-header>
  <div *ngIf="!details?.error" class="max-w-screen-2xl mx-auto py-8 px-4">
    <div class="grid grid-cols-12 gap-8">
      <div class="col-span-12 md:col-span-7 xl:col-span-9">
        <app-file-viewer-nav
          [owner]="details.owner"
          [name]="details.name"
          [branch]="details.branch"
        ></app-file-viewer-nav>
        <app-file-explorer
          [items]="details.items"
          [branch]="details.branch"
          [basePath]="details.basePath"
          [isLoaded]="details.loading"
        ></app-file-explorer>
      </div>
      <div class="col-span-12 md:col-span-5 xl:col-span-3">
        <app-repo-about
          [isRepoLoading]="true"
          [description]="details.description"
        ></app-repo-about>
      </div>
    </div>
  </div>
  <div *ngIf="details?.error">Error: {{ details.error?.message }}</div>
</ng-container>
